define("scribe-plugin-link-prompt-command",[],function(){return function(){return function(e){var n=new e.api.Command("createLink");n.nodeName="A",n.execute=function(){var n=new e.api.Selection,t=n.range,r=n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),i=r?r.href:"http://",o=window.prompt("Enter a link.",i);if(r&&(t.selectNode(r),n.selection.removeAllRanges(t),n.selection.addRange(t)),o){if(!/^mailto\:/.test(o)&&/@/.test(o)){var a=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");a&&(o="mailto:"+o)}else if(!/^https?\:\/\//.test(o)){var s=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");s&&(o="http://"+o)}e.api.SimpleCommand.prototype.execute.call(this,o)}},n.queryState=function(){var n=new e.api.Selection;return!!n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},e.commands.linkPrompt=n}}});//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map